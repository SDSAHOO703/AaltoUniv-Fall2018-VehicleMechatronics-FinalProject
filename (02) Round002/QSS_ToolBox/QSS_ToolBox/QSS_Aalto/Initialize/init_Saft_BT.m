% =======
% Battery
% =======

% #####################################################################################################################

% Global variables
% ----------------
    global BT_mass % battery weight

% #####################################################################################################################

% Battery parameters
% ------------------

cap_BT = 6; % (Ah) cell capacity
soc_map_BT = 0:0.1:1; % SOC
voc_map_BT = [3.1944 3.4028 3.4722 3.5895 3.6184 3.6522 3.6919 3.7404 3.8194 3.8889 3.9583]; % (V)
rdis_map_BT = [0.177 0.177 0.177 0.177 0.177 0.176 0.177 0.177  0.177 0.177 0.177]/72; % (Ohm) 
rchg_map_BT = [0.177 0.177 0.177 0.177 0.177 0.176 0.177 0.177  0.177 0.177 0.177]/72; % (Ohm) 

pack_factor = 2;
weight_factor_BT = 34.6;
BT_mass = pack_factor*(mean(voc_map_BT)*cell_series_BT*cell_parallel_BT*cap_BT)/weight_factor_BT; % battery weight

% #####################################################################################################################
